<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
        PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
    <meta http-equiv="content-type" content="application/xhtml+xml; charset=UTF-8"/>
    <title>My Sample Project</title>
    <!-- data-main attribute tells require.js to load
         scripts/main.js after require.js loads. -->
    <link href="components/bootstrap-3.1.1-dist/css/bootstrap.css" rel="stylesheet" type="text/css">
    <link href="components/jquery-ui-1.11.2/jquery-ui.css" rel="stylesheet" type="text/css">
    <link href="components/jqGrid-4.7.0/css/ui.jqgrid.css" rel="stylesheet" type="text/css"/>
    <script src="js/vendor/jquery/2.1.1/jquery.js" type="text/javascript"></script>
    <script src="components/jquery-ui-1.11.2/jquery-ui.js" type="text/javascript"></script>
    <script src="components/jqGrid-4.7.0/js/i18n/grid.locale-cn.js" type="text/javascript"></script>
    <script src="components/jqGrid-4.7.0/js/jquery.jqGrid.js" type="text/javascript"></script>
    <script src="js/jqGrid-config.js" type="text/javascript"></script>
</head>
<body>
<table id="list" class="">
    <thead>
    <tr>
        <th>Id</th>
        <th>名称</th>
        <th>型号</th>
        <th>批次</th>
        <th>单位</th>
    </tr>
    </thead>
</table>
<div id="pager"></div>
<input type="BUTTON" id="edit" value="Edit Selected" />
<script>
    $(function () {
        pageInit();
    });
    function pageInit() {
        jQuery("#list")
                .jqGrid(
                {
                    url: 'commodity',
                    datatype: "json",
                    colNames: ['Id', '商品名称', '型号', '单位'],
                    colModel: [
                        {name: 'id', width: 80},
                        {name: 'name', width: 300,editable:true},
                        {name: 'typeNumber', width: 100,editable:true},
                        {name: 'unit', width: 120, align: "right",editable:true}
                    ],
                    rowNum: 10,
                    //rowList: [10, 20, 30],
                    pager: '#pager',
                    caption: "===商品列表===",
                    editurl: 'commodity'
                })
                .initNavGrid();

        // The following statements are for self-managed CRUD buttons.

//        $("#edit").click(function() {
//            var gr = jQuery("#list").jqGrid('getGridParam', 'selrow');
//            if (gr != null)
//                jQuery("#list").jqGrid('editGridRow', gr, {
//                    height : 300,
//                    reloadAfterSubmit : false
//                });
//            else
//                alert("Please Select Row");
//        });

    }

</script>
</body>
</html>